<div class="container">
  <div class="row">
    <div class="col-10">
      <img src="{{comment.creator.avatar}}" width="50px">
      <h5 class="text-primary">{{comment.creator.name}}</h5>

      <div class="row">
        <textarea [hidden]="!editing" [(ngModel)]="commentBody"></textarea>
        <div class="col-2 my-auto" [hidden]="!editing" (click)="onUpdateComment()" style="cursor: pointer;">
          <span class="text-primary material-icons" (click)="onUpdateComment()">
            send
          </span>
        </div>
        <div [hidden]="editing">
          <div *ngIf="comment.body.startsWith('https://www.loom.com/')"
            style="position: relative; padding-bottom: 56.25%; height: 0;"><iframe [src]="comment.body | safe"
              frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen
              style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
          
              <p>{{comment.body}}</p>


        </div>

      </div>
    </div>

    <div class="ml-auto col-1" *ngIf="(user.id == comment.creator.id)">
      <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #menu="matMenu" xPosition="before">
        <button mat-menu-item>
          <mat-icon>create</mat-icon>
          <span (click)="onEditComment()">Edit Comment</span>
        </button>
        <button mat-menu-item>
          <mat-icon>delete_sweep</mat-icon>
          <span (click)="onDeleteComment()">Delete Comment</span>
        </button>
      </mat-menu>
    </div>



    <hr />
  </div>
  <app-reply [replies]="comment.replies" [postId]="postId" [group]="group" [commentId]="comment.id"></app-reply>
</div>
